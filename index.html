<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />

  <title>Catálogo de Productos</title>
  <link rel="icon" href="imagenes/favicon.png" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #121212;
      color: #ffffff;
    }

    .product-img {
      width: 100%;
      height: auto;
      cursor: pointer;
      margin-bottom: 15px;
      border-radius: 6px;
      transition: transform 0.2s;
    }

    .product-img:hover {
      transform: scale(1.02);
      border: 2px solid #ffffff33;
    }

    .logo {
      max-height: 180px;
      margin: 20px auto;
      display: block;
    }



.carousel-item {
  position: relative;
  height: 100vh;
}

.carousel-item img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  max-height: 80vh;
  max-width: 100%;
  object-fit: contain;
  display: block;
  margin: auto;
  touch-action: pinch-zoom;
  user-select: auto;
}



    .carousel-control-prev-icon,
    .carousel-control-next-icon {
      filter: invert(1);
    }

    .modal-content {
      background-color: transparent;
      border: none;
    }
  </style>
</head>
<body>
  <!-- Logo -->
  <img src="imagenes/log.jpeg" alt="Logo" class="logo" />

  <!-- Catálogo -->
  <div class="container py-3">
   
    <div class="row" id="catalogo">
      <!-- Las imágenes se generan aquí -->
    </div>
  </div>

  <!-- Modal con carrusel -->
  <div class="modal fade" id="modalGaleria" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content text-center">
        <div class="modal-body p-0">
          
<div id="carouselGaleria" class="carousel slide carousel-fade" data-bs-touch="true">

            <div class="carousel-inner" id="carruselContenido">
              <!-- Se insertan las imágenes aquí -->
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselGaleria" data-bs-slide="prev">
              <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselGaleria" data-bs-slide="next">
              <span class="carousel-control-next-icon"></span>
            </button>
          </div>
        </div>
        <div class="text-end p-3">
          <button class="btn btn-light" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS + Código JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const contenedor = document.getElementById("catalogo");
    const carrusel = document.getElementById("carruselContenido");
    const totalImagenes = 100; // item-0 hasta item-100
    const imagenes = [];

    for (let i = 0; i <= totalImagenes; i++) {
      const ruta = `imagenes/item-${i}.jpeg`; // ← Aquí usamos los nombres correctos
      imagenes.push(ruta);

      const col = document.createElement("div");
      col.className = "col-4 col-sm-4 col-md-3 col-lg-2";

      const img = document.createElement("img");
      img.src = ruta;
      img.alt = `item-${i}`;
      img.className = "product-img";
      img.onerror = () => col.remove();
      img.onclick = () => mostrarGaleria(i);

      col.appendChild(img);
      contenedor.appendChild(col);
    }

  function mostrarGaleria(indice) {
  carrusel.innerHTML = "";

  imagenes.forEach((ruta, i) => {
    const item = document.createElement("div");
    item.className = "carousel-item" + (i === indice ? " active" : "");

    const img = document.createElement("img");
    img.src = ruta;
    img.className = "d-block w-100";
    img.alt = `item-${i}`;

    item.appendChild(img);
    carrusel.appendChild(item);
  });

  const modal = new bootstrap.Modal(document.getElementById("modalGaleria"));
  modal.show();

  // Forzar swipe funcional
  const galeria = document.getElementById("carouselGaleria");
  const carruselBS = new bootstrap.Carousel(galeria, {
  interval: false,
  touch: true,
  ride: false,
  pause: true,
  wrap: true
});

  carruselBS.to(indice);
// Reinicializa el swipe en dispositivos táctiles
galeria.addEventListener('touchstart', () => {}, {passive: true});

}

  </script>
</body>
</html>
